"use strict";(self.webpackChunkchaos_mesh_website=self.webpackChunkchaos_mesh_website||[]).push([[3809],{3710:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"quick_start/index","title":"Quick Start","description":"Install Dependencies","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/quick_start/index.md","sourceDirName":"quick_start","slug":"/quick_start/","permalink":"/website/zh/docs/quick_start/","draft":false,"unlisted":false,"editUrl":"https://github.com/tuya/TuyaOpen/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/quick_start/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"gui-flash","permalink":"/website/zh/docs/quick_start/gui-flash"},"next":{"title":"Adding and Adapting Platforms","permalink":"/website/zh/docs/new_platform/"}}');var s=i(4848),o=i(8453);const c={},l="Quick Start",a={},r=[{value:"Install Dependencies",id:"install-dependencies",level:2},{value:"Clone Repository",id:"clone-repository",level:2},{value:"Setup and Compilation",id:"setup-and-compilation",level:2},{value:"Flashing and Authorization",id:"flashing-and-authorization",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"quick-start",children:"Quick Start"})}),"\n",(0,s.jsx)(n.h2,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Ubuntu and Debian ^^^^^^^^^^^^^^^^^"}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsx)(n.p,{children:"sudo apt-get install lcov cmake-curses-gui build-essential ninja-build wget git python3 python3-pip python3-venv libc6-i386 libsystemd-dev"}),"\n",(0,s.jsx)(n.p,{children:"macOS ^^^^^ Please run::"}),"\n",(0,s.jsx)(n.p,{children:"tos check"}),"\n",(0,s.jsx)(n.p,{children:"to check system dependencies and install them as prompted."}),"\n",(0,s.jsx)(n.p,{children:".. note:: Since version v1.1.0, we use ninja as the build tool to accelerate compilation. Please install ninja if you encounter compilation errors."}),"\n",(0,s.jsx)(n.h2,{id:"clone-repository",children:"Clone Repository"}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsxs)(n.p,{children:["git clone ",(0,s.jsx)(n.a,{href:"https://github.com/tuya/TuyaOpen.git",children:"https://github.com/tuya/TuyaOpen.git"})]}),"\n",(0,s.jsxs)(n.p,{children:["The TuyaOpen repository contains multiple submodules. The tos tool will ",(0,s.jsx)(n.strong,{children:"automatically check and download submodules before compilation"}),", or you can manually download them using::"]}),"\n",(0,s.jsx)(n.p,{children:"git submodule update --init"}),"\n",(0,s.jsx)(n.h2,{id:"setup-and-compilation",children:"Setup and Compilation"}),"\n",(0,s.jsx)(n.p,{children:"step1. Set Environment Variables ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ .. code-block:: bash"}),"\n",(0,s.jsx)(n.p,{children:"cd TuyaOpen\nexport PATH=$PATH:$PWD"}),"\n",(0,s.jsx)(n.p,{children:"Or add the TuyaOpen path to system environment variables:"}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsx)(n.p,{children:"vim ~/.bashrc"}),"\n",(0,s.jsx)(n.h1,{id:"add-the-following-content",children:"Add the following content"}),"\n",(0,s.jsx)(n.p,{children:"export PATH=$PATH:/path/to/your/TuyaOpen"}),"\n",(0,s.jsxs)(n.p,{children:[".. attention:: Replace ",(0,s.jsx)(n.code,{children:"/path/to/your/TuyaOpen"})," with the actual path to your TuyaOpen directory."]}),"\n",(0,s.jsxs)(n.p,{children:["After adding the environment variable with vim, enter ",(0,s.jsx)(n.code,{children:":wq"})," to save, and use ",(0,s.jsx)(n.code,{children:"source ~/.bashrc"})," to activate the environment variables. For detailed usage of tos command, please refer to :doc:",(0,s.jsx)(n.code,{children:"tos command </tos_guide/index>"}),"."]}),"\n",(0,s.jsx)(n.p,{children:".. note:: TuyaOpen uses the tos command for compilation, debugging and other operations. The tos command will search for the TuyaOpen repository based on the path set in environment variables."}),"\n",(0,s.jsx)(n.p,{children:"step2. Select Project to Compile ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Method 1"}),": Compile example"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Select an example to compile using::"}),"\n",(0,s.jsx)(n.p,{children:"cd TuyaOpen\ntos set_example"}),"\n",(0,s.jsxs)(n.p,{children:["After platform selection, the ",(0,s.jsx)(n.code,{children:"examples"})," directory will be updated with platform-specific examples."]}),"\n",(0,s.jsxs)(n.p,{children:["More example information: :doc:",(0,s.jsx)(n.code,{children:"Example Projects </examples/index>"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Method 2"}),": Compile app"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Select an app to compile (e.g. ",(0,s.jsx)(n.code,{children:"apps/tuya_cloud/switch_demo <https://github.com/tuya/TuyaOpen/tree/master/apps/tuya_cloud/switch_demo>"}),"_) and navigate to its directory."]}),"\n",(0,s.jsx)(n.p,{children:"Use::"}),"\n",(0,s.jsx)(n.p,{children:"tos config_choice"}),"\n",(0,s.jsx)(n.p,{children:"to select target platform or board."}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsx)(n.h1,{id:"tuyaopenappstuya_cloudswitch_democonfig-is-emptyusing-boards-default-config-file",children:"[TuyaOpen/apps/tuya_cloud/switch_demo/config] is empty.\nUsing boards default config file."}),"\n",(0,s.jsx)(n.p,{children:"Configs"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"BK7231X.config"}),"\n",(0,s.jsx)(n.li,{children:"ESP32-C3.config"}),"\n",(0,s.jsx)(n.li,{children:"ESP32.config"}),"\n",(0,s.jsx)(n.li,{children:"ESP32-S3.config"}),"\n",(0,s.jsx)(n.li,{children:"LN882H.config"}),"\n",(0,s.jsx)(n.li,{children:"T2.config"}),"\n",(0,s.jsx)(n.li,{children:"T3.config"}),"\n",(0,s.jsx)(n.li,{children:"T5AI.config"}),"\n",(0,s.jsx)(n.li,{children:"Ubuntu.config"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"Please select:"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"tos config_choice"})," command reads configuration files in the project's ",(0,s.jsx)(n.code,{children:"config"})," directory and generates ",(0,s.jsx)(n.code,{children:"app_default.config"})," for the current project."]}),"\n",(0,s.jsxs)(n.p,{children:[".. important:: After switching config with ",(0,s.jsx)(n.code,{children:"tos config_choice"}),", tos will automatically clean previously generated intermediate files."]}),"\n",(0,s.jsx)(n.p,{children:"step3. Compile ^^^^^^^^^^^^^^ Navigate to the target project directory (examples or apps) and run:"}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsx)(n.p,{children:"cd apps/tuya_cloud/switch_demo\ntos build"}),"\n",(0,s.jsxs)(n.p,{children:["Compiled binaries will be located in ",(0,s.jsx)(n.code,{children:".build/<project>/bin"})," directory of the current project, e.g. ",(0,s.jsx)(n.code,{children:"apps/tuya_cloud/switch_demo/.build/bin"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Output files include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"switch_demo_QIO_1.0.0.bin: Complete firmware with bootloader for flashing"}),"\n",(0,s.jsx)(n.li,{children:"switch_demo_UA_1.0.0.bin: Application firmware without bootloader (must be flashed to correct address based on platform/chip)"}),"\n",(0,s.jsx)(n.li,{children:"switch_demo_UG_1.0.0.bin: OTA upgrade file (cannot run directly after flashing)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Default project name matches directory name, version defaults to ",(0,s.jsx)(n.code,{children:"1.0.0"}),". Modify via ",(0,s.jsx)(n.code,{children:"tos menuconfig"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"step4. menuconfig Configuration ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ To modify project configuration, navigate to target project directory and run:"}),"\n",(0,s.jsx)(n.p,{children:".. code-block:: bash"}),"\n",(0,s.jsx)(n.p,{children:"cd apps/tuya_cloud/switch_demo\ntos menuconfig"}),"\n",(0,s.jsx)(n.p,{children:"Configure the project and recompile after saving changes."}),"\n",(0,s.jsxs)(n.p,{children:[".. important:: Changing chip/board via ",(0,s.jsx)(n.code,{children:"tos menuconfig"})," will automatically clean previous build artifacts."]}),"\n",(0,s.jsx)(n.h2,{id:"flashing-and-authorization",children:"Flashing and Authorization"}),"\n",(0,s.jsxs)(n.p,{children:["Command Line Flashing ^^^^^^^^^^^^^^^^^^^^^^ Use ",(0,s.jsx)(n.code,{children:"tos flash"})," for one-click flashing: :doc:",(0,s.jsx)(n.code,{children:"CLI Flashing <cli-flash>"})]}),"\n",(0,s.jsxs)(n.p,{children:["GUI Tool Flashing ^^^^^^^^^^^^^^^^^^ ",(0,s.jsx)(n.code,{children:"tyutool gui"})," provides complete graphical flashing solution with serial debugging, firmware flashing and authorization management. Currently supports T2/T3/T5AI/BK7231N/LN882H/ESP32 chips via serial flashing, available for Windows/Linux/macOS:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Windows:",(0,s.jsx)(n.code,{children:"tyutool_win <https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/win_tyutool_gui.zip>"}),"_"]}),"\n",(0,s.jsxs)(n.li,{children:["Linux:",(0,s.jsx)(n.code,{children:"tyutool_linux.tar <https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/tyutool_gui.tar.gz>"}),"_"]}),"\n",(0,s.jsxs)(n.li,{children:["macOS",(0,s.jsxs)(n.em,{children:["x86:",(0,s.jsx)(n.code,{children:"tyutool_mac_x86 <https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/darwin_x86_tyutool_gui.tar.gz>"})]})]}),"\n",(0,s.jsxs)(n.li,{children:["macOS",(0,s.jsxs)(n.em,{children:["arm64:",(0,s.jsx)(n.code,{children:"tyutool_mac_arm64.zip <https://images.tuyacn.com/smart/embed/package/vscode/data/ide_serial/darwin_arm64_tyutool_gui.tar.gz>"})]})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For GUI flashing tutorial: :doc:",(0,s.jsx)(n.code,{children:"GUI Flashing <gui-flash>"})]}),"\n",(0,s.jsx)(n.p,{children:".. toctree:: :maxdepth: 1 :glob:"}),"\n",(0,s.jsx)(n.p,{children:"cli-flash\ngui-flash"})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var t=i(6540);const s={},o=t.createContext(s);function c(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);