"use strict";(self.webpackChunkchaos_mesh_website=self.webpackChunkchaos_mesh_website||[]).push([[8966],{4610:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>_,frontMatter:()=>r,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"tkl-api/tkl_pwm","title":"PWM Driver","description":"Brief Description","source":"@site/docs/tkl-api/tkl_pwm.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_pwm","permalink":"/website/docs/tkl-api/tkl_pwm","draft":false,"unlisted":false,"editUrl":"https://github.com/tuya/TuyaOpen/edit/master/docs/tkl-api/tkl_pwm.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_pinmux","permalink":"/website/docs/tkl-api/tkl_pinmux"},"next":{"title":"REGISTER DRIVER","permalink":"/website/docs/tkl-api/tkl_register"}}');var t=l(4848),s=l(8453);const r={},c="PWM Driver",d={},h=[{value:"Brief Description",id:"brief-description",level:2},{value:"API Description",id:"api-description",level:2},{value:"tkl_pwm_init",id:"tkl_pwm_init",level:3},{value:"polarity:",id:"polarity",level:4},{value:"count_mode:",id:"count_mode",level:4},{value:"duty:",id:"duty",level:4},{value:"cycle:",id:"cycle",level:4},{value:"frequency:",id:"frequency",level:4},{value:"tkl_pwm_deinit",id:"tkl_pwm_deinit",level:3},{value:"tkl_pwm_start",id:"tkl_pwm_start",level:3},{value:"tkl_pwm_stop",id:"tkl_pwm_stop",level:3},{value:"tkl_pwm_multichannel_start",id:"tkl_pwm_multichannel_start",level:3},{value:"tkl_pwm_multichannel_stop",id:"tkl_pwm_multichannel_stop",level:3},{value:"tkl_pwm_info_set",id:"tkl_pwm_info_set",level:3},{value:"tkl_pwm_info_get",id:"tkl_pwm_info_get",level:3},{value:"tkl_pwm_cap_start",id:"tkl_pwm_cap_start",level:3},{value:"cap_mode:",id:"cap_mode",level:4},{value:"trigger_level:",id:"trigger_level",level:4},{value:"clk:",id:"clk",level:4},{value:"cb:",id:"cb",level:4},{value:"arg:",id:"arg",level:4},{value:"tkl_pwm_cap_stop",id:"tkl_pwm_cap_stop",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"pwm-driver",children:"PWM Driver"})}),"\n",(0,t.jsx)(n.h2,{id:"brief-description",children:"Brief Description"}),"\n",(0,t.jsx)(n.p,{children:"PWM (Pulse Width Modulation) is an effective technology that uses the digital output of a microprocessor to control analog circuits."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://images.tuyacn.com/fe-static/docs/img/ba656efd-316e-412a-9370-7b8f10fb94d9.png",alt:"img"})}),"\n",(0,t.jsx)(n.p,{children:"As shown in the figure above, a PWM waveform with a pulse period of 10ms: the first period has a high level of 7ms (duty cycle 70%); the second period has a high level of 4ms (duty cycle 40%). By adjusting the duty cycle value of the high level, the size of the analog output value can be changed."}),"\n",(0,t.jsx)(n.h2,{id:"api-description",children:"API Description"}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_init",children:"tkl_pwm_init"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_init(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_BASE_CFG_T *cfg);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Function Description:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Initializes the corresponding PWM instance through the port number and basic configuration, returning the initialization result."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Parameters:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"cfg"}),": PWM basic configuration, including output polarity, duty cycle, and frequency."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"typedef struct {\n    TUYA_PWM_POLARITY_E polarity;\n    TUYA_PWM_COUNT_E    count_mode;\n    //pulse duty cycle = duty / cycle; exp duty = 5000,cycle = 10000; pulse duty cycle = 50%\n    uint32_t              duty;\n    uint32_t              cycle;\n    uint32_t              frequency;  // (bet: Hz)\n} TUYA_PWM_BASE_CFG_T;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"polarity",children:"polarity:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Definition"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Remarks"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_NEGATIVE"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"PWM low-level output"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_POSITIVE"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"PWM high-level output"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"count_mode",children:"count_mode:"}),"\n",(0,t.jsxs)(n.p,{children:["Counting mode, with ",(0,t.jsx)(n.code,{children:"TUYA_PWM_CNT_UP"})," and ",(0,t.jsx)(n.code,{children:"TUYA_PWM_CNT_UP_AND_DOWN"})," as options."]}),"\n",(0,t.jsx)(n.h4,{id:"duty",children:"duty:"}),"\n",(0,t.jsx)(n.p,{children:"Duty cycle, used with cycle, output = duty / cycle."}),"\n",(0,t.jsx)(n.h4,{id:"cycle",children:"cycle:"}),"\n",(0,t.jsx)(n.p,{children:"Period, or granularity, output = duty / cycle."}),"\n",(0,t.jsx)(n.h4,{id:"frequency",children:"frequency:"}),"\n",(0,t.jsx)(n.p,{children:"Output frequency, in Hz."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Return Value:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_deinit",children:"tkl_pwm_deinit"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_deinit(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Deinitializes the PWM instance."}),"\n",(0,t.jsx)(n.li,{children:"This interface stops any ongoing transmission of the PWM instance (if any) and releases related software and hardware resources."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_start",children:"tkl_pwm_start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_start(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Starts PWM."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_stop",children:"tkl_pwm_stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_stop(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Stops PWM."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"port"}),": Port number."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_multichannel_start",children:"tkl_pwm_multichannel_start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_multichannel_start(TUYA_PWM_NUM_E *ch_id, uint8_t num);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Simultaneously starts multiple channel PWMs for combined output, used in scenarios with strict timing requirements."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": List of channel numbers, array."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"num"}),": Number of channels to start."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_multichannel_stop",children:"tkl_pwm_multichannel_stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_multichannel_stop(TUYA_PWM_NUM_E *ch_id, uint8_t num);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Simultaneously stops multiple channel PWMs for combined output, used in scenarios with strict timing requirements."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": List of channel numbers, array."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"num"}),": Number of channels to stop."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_info_set",children:"tkl_pwm_info_set"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_info_set(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_BASE_CFG_T *info);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Resets PWM configuration parameters, allowing dynamic modification of the configuration after PWM start, and then restarts."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"info"}),": PWM basic configuration, including output polarity, duty cycle, frequency. The structure parameters are described above."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Error code, OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_info_get",children:"tkl_pwm_info_get"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_info_get(TUYA_PWM_NUM_E ch_id, TUYA_PWM_BASE_CFG_T *info);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Function Description:"}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"info"}),": PWM basic configuration, including output polarity, duty cycle, frequency. The structure parameters are described above."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Error code, OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_cap_start",children:"tkl_pwm_cap_start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_cap_start(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_CAP_IRQ_T *cfg);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Function Description:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enables PWM input capture mode."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Parameters:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"cfg"}),": PWM input capture configuration, as detailed below."]}),"\n",(0,t.jsx)(n.h4,{id:"cap_mode",children:"cap_mode:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Definition"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Remarks"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_CAPTURE_MODE_ONCE"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Single trigger mode"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_CAPTURE_MODE_PERIOD"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Multiple trigger mode"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"trigger_level",children:"trigger_level:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Name"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Definition"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Remarks"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_NEGATIVE"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Trigger signal is falling edge"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TUYA_PWM_POSITIVE"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Trigger signal is rising edge"}),(0,t.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"clk",children:"clk:"}),"\n",(0,t.jsx)(n.p,{children:"Sampling clock for captured signal."}),"\n",(0,t.jsx)(n.h4,{id:"cb",children:"cb:"}),"\n",(0,t.jsx)(n.p,{children:"Callback function for captured signal, as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"typedef void(*TUYA_PWM_IRQ_CB)(TUYA_PWM_NUM_E port, TUYA_PWM_CAPTURE_DATA_T data, void *arg);\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"typedef struct {\n    uint32_t      cap_value;            /* Captured data */\n    TUYA_PWM_POLARITY_E cap_edge;     /* Capture edge, TUYA_PWM_NEGATIVE:falling edge, TUYA_PWM_POSITIVE:rising edge */\n} TUYA_PWM_CAPTURE_DATA_T;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"arg",children:"arg:"}),"\n",(0,t.jsx)(n.p,{children:"Callback function parameters."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Return Value:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Error code, OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tkl_pwm_cap_stop",children:"tkl_pwm_cap_stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_cap_stop(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Function Description:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Disables PWM input capture mode."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Parameters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ch_id"}),": Channel number."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Return Value:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Error code, OPRT_OK for success, other values please refer to the file ",(0,t.jsx)(n.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"pwm-example",children:"PWM Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"void tuya_pwm_test(void)\n{\n    OPERATE_RET ret;\n    TUYA_PWM_BASE_CFG_T cfg = {.polarity = TUYA_PWM_POSITIVE,\\\n                       .duty = 1000,\n                       .cycle = 10000,\n                       .frequency = 1000};\n    ret = tkl_pwm_init(TUYA_PWM_NUM_0, &cfg);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    ret = tkl_pwm_start(TUYA_PWM_NUM_0);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    tkl_system_delay(5000);\n    ret = tkl_pwm_info_get(TUYA_PWM_NUM_0, &cfg);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    if(cfg.duty !=5000){\n        cfg.duty =5000;\n    }\n    ret = tkl_pwm_info_set(TUYA_PWM_NUM_0, &cfg);\n    //delay\n    tkl_system_delay(5000);\n    ret = tkl_pwm_stop(TUYA_PWM_NUM_0);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    ret = tkl_pwm_deinit(TKL_PWM1_CH);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n}\n"})})]})}function _(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>c});var i=l(6540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);